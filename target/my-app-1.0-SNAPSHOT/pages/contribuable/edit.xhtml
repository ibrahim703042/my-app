
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    template="/resources/templates/dashboardTemplate.xhtml"
    xmlns:p="http://primefaces.org/ui"
    xmlns:component="http://xmlns.jcp.org/jsf/composite/component"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <ui:define name = "contents">
            
        <p:spacer height="90" />
                    
        <h:form id="dialogs" class=" py-3 mb-4">
            <p:growl id="messages" showDetail="true" />
            
        <p:card >
                        
            <f:facet name="title">
                Edit Contribuable Details
            </f:facet>
                         
            <p:outputPanel id="manage-form-content" class="ui-fluid">
                <p:outputPanel>
                        
                    <div class="ui-fluid formgrid grid">
                        <div class="field col-12 md:col-12">
                            <component:inputTextField
                                label="Nom ou Raison Sociale"
                                placeholder="Entrer nom ou raison sociale"
                                value="#{contribuableMapped.nom}"
                            />
                        </div>

                        <div class="field col-12 md:col-6">
                        <component:inputTextField
                            label="E-mail"
                            placeholder="Entrer email "
                            value="#{contribuableMapped.email}"
                        />

                        </div>

                        <div class="field col-12 md:col-6">
                            <component:inputTextField label="Mot de passe" placeholder="Entrer Mot de passe"
                                value="#{contribuableMapped.motPasse}"/>
                        </div>

                        <div class="field col-12 md:col-6">
                            <component:inputTextField
                                label="Boite postal"
                                placeholder="B.P 1023456 "
                                value="#{contribuableMapped.bp}"
                            />

                        </div>

                        <div class="field col-12 md:col-6">
                            <component:inputTextField
                                label="Telephone"
                                placeholder="+257 71 20 47 78"
                                value="#{contribuableMapped.telephone}"
                            />
                        </div>

                        <div class="field col-12 md:col-12">
                            <p:outputLabel class="font-bold"  value="Representant"/>
                            <p:selectOneMenu 
                                value="#{contribuableMapped.idRepresentant}"
                                filter="true" 
                                filterMatchMode="startsWith" 
                                dynamic="true"
                                style="height: 41px; "
                            >
                                <f:selectItems var="representan"
                                    value="#{representantController.representantList()}"
                                    itemLabel="#{representan.id} : #{representan.nomRepresentant} #{representan.prenomRepresentant}"
                                    itemValue="#{representan.id}" 
                                />

                            </p:selectOneMenu>
                        </div>
                    </div>
                    
                </p:outputPanel>
            </p:outputPanel>
            
            <f:facet name="footer">
                <div class="flex align-items-center justify-content-end">
                    <p:commandButton  value="Modifier"
                        action="#{contribuableController.update(contribuableMapped)}"
                        update="manage-form-content dialogs" 
                        process="manage-form-content @this" 
                        style="height: 41px;"/>
                        
                </div>

            </f:facet>
            
        </p:card>

    </h:form>
            
    </ui:define>
        
</ui:composition>
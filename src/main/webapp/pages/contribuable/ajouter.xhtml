
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    template="/resources/templates/dashboardTemplate.xhtml"
    xmlns:p="http://primefaces.org/ui"
    xmlns:component="http://xmlns.jcp.org/jsf/composite/component"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <ui:define name = "contents">
            
        <p:spacer height="90" />
                    
         <h:form id="dialogs" class=" py-3 mb-4 bg-white">
            <p:growl id="messages" showDetail="true" />
            
            <p:card >

                <f:facet name="title">
                    Contribuable Details
                </f:facet>
                <p:outputPanel id="manage-form-content" class="ui-fluid">
                    <p:outputPanel>
                        
                        <div class="ui-fluid formgrid grid py-3">

                            <p:spacer height="30" />

                            <div class=" field col-12 md:col-6 font-medium text-500 mb-3">
                                B. IDENTIFICATION DU CONTRIBUABLE
                            </div>

                            <div class="field col-12 md:col-12">
                                <component:inputTextField
                                    label="Nom ou Raison Sociale"
                                    placeholder="Entrer nom ou raison Sociale"
                                    value="#{contribuableController.modelContribuable.nom}"
                                />
                            </div>

                            <div class="field col-12 md:col-6">
                            <component:inputTextField
                                label="E-mail"
                                placeholder="Entrer email "
                                value="#{contribuableController.modelContribuable.email}"
                            />

                            </div>

                            <div class="field col-12 md:col-6">
                                <component:inputPasswordField
                                    label="Mot de passe"
                                    placeholder="Entrer Mot de passe"
                                    value="#{contribuableController.modelContribuable.motPasse}"
                                />
                            </div>

                            <div class="field col-12 md:col-6">
                                <component:inputTextField
                                    label="Boite postal"
                                    placeholder="BP 1023456 "
                                    value="#{contribuableController.modelContribuable.bp}"
                                />

                            </div>

                            <div class="field col-12 md:col-6">
                                <component:inputTextField
                                    label="Telephone"
                                    placeholder="+25771204778"
                                    value="#{contribuableController.modelContribuable.telephone}"
                                />
                            </div>

                            <div class="field col-12 md:col-12">
                                <p:outputLabel class="font-bold"  value="Representant"/>
                                <p:selectOneMenu 
                                    value="#{contribuableController.modelContribuable.idRepresentant}"
                                    filter="true" 
                                    filterMatchMode="startsWith" 
                                    dynamic="true"
                                    style="height: 41px; "
                                >
                                    <f:selectItem itemLabel="Choisir Representant" />
                                    <f:selectItems var="representant"
                                        value="#{contribuableController.representantList}"
                                        itemLabel="#{representant.id} : #{representant.nomRepresentant} #{representant.prenomRepresentant}"
                                        itemValue="#{representant.id}" 
                                    />

                                </p:selectOneMenu>
                            </div>
                            
                        </div>
                        
                    </p:outputPanel>
                </p:outputPanel>
                <f:facet name="footer">
                    <div class="flex align-items-center justify-content-end">
                        <p:commandButton 
                            value="Enregistrer"
                            ajax="false"
                            action="#{contribuableController.create(contribuableController.modelContribuable)}"
                            update="manage-form-content dialogs" 
                            process="manage-form-content @this" 
                            style="height: 41px;"/>

                    </div>

                </f:facet>
            </p:card>

        </h:form>
            
    </ui:define>
    
    
        
</ui:composition>